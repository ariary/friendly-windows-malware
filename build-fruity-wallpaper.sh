#!/bin/bash

if [[ $# -ne 2 ]]; then
    echo "usage: ./build-fruity-wallpaper.sh \$TARGET_OS \$PRGRM"
    echo "PGRM: (youhou, fruity-wallpaper), TARGET: windows preferably"
    exit 92
fi


export TARGET_OS=$1
export PGRM=$2

echo "List of fruits:"
echo "  ‚Ä¢ (1) üçá Grapes
  ‚Ä¢ (2) üçà Melon
  ‚Ä¢ (3) üçâ Watermelon
  ‚Ä¢ (4) üçã Lemon
  ‚Ä¢ (5) üçå Banana
  ‚Ä¢ (6) üçç Pineapple
  ‚Ä¢ (7) üçë Peach
  ‚Ä¢ (8) üçí Cherries
  ‚Ä¢ (9) üçì Strawberry
  ‚Ä¢ (10) ü•ù Kiwi Fruit
"
read  -p "Choose your fruit:" FRUIT_CHOICE
FRUIT=""

if [ "$FRUIT_CHOICE" = "1" ]; then
            FRUIT="grapes"
elif [ "$FRUIT_CHOICE" = "2" ]; then
    FRUIT="melon"
elif [ "$FRUIT_CHOICE" = "3" ]; then
    FRUIT="watermelon"
elif [ "$FRUIT_CHOICE" = "4" ]; then
    FRUIT="lemon"
elif [ "$FRUIT_CHOICE" = "5" ]; then
    FRUIT="banana"
elif [ "$FRUIT_CHOICE" = "6" ];then
    FRUIT="pineapple"
elif [ "$FRUIT_CHOICE" = "7" ];then
    FRUIT="peach"
elif [ "$FRUIT_CHOICE" = "8" ];then
    FRUIT="cherries"
elif [ "$FRUIT_CHOICE" = "9" ];then
    FRUIT="strawberry"
elif [ "$FRUIT_CHOICE" = "10" ];then
    FRUIT="kiwi"
else
    echo "You have entered an invalid selection!"
fi


GOOS=$TARGET_OS GOARCH=amd64 CGO_ENABLED=0 go build -ldflags "-X 'main.Fruit=$FRUIT' -H=windowsgui" ./cmd/$PGRM/$PGRM.go
